# 정상 케이스 테스트 케이스

## TC-001: 앱 초기 설치 및 모델 다운로드

### 테스트 목적
첫 설치 시 Gemma 3n 모델 다운로드 과정이 정상적으로 완료되는지 검증

### 전제 조건
- iOS 15.0 이상 디바이스
- 최소 4GB 여유 저장 공간
- 안정적인 Wi-Fi 연결
- 앱 신규 설치 상태

### 테스트 단계
1. 앱 아이콘 터치하여 실행
2. 온보딩 화면에서 "시작하기" 버튼 터치
3. 모델 다운로드 안내 화면 확인
4. "다운로드 시작" 버튼 터치
5. 다운로드 진행률 모니터링 (0-100%)
6. 다운로드 완료 메시지 확인
7. "완료" 버튼 터치

### 예상 결과
- 다운로드 진행률이 정확히 표시됨
- 다운로드 시간: 5-10분 (Wi-Fi 기준)
- 모델 파일 크기: 약 3.2GB
- 완료 후 메인 채팅 화면으로 이동
- 상태바에 "준비 완료" 표시

### 성공 기준
- 다운로드 완료율 100%
- 모델 파일 무결성 검증 통과
- 메모리 사용량 안정
- 에러 없이 메인 화면 진입

---

## TC-002: 기본 텍스트 대화 기능

### 테스트 목적
온디바이스 모델을 통한 기본 텍스트 대화가 정상 작동하는지 검증

### 전제 조건
- 모델 로딩 완료 상태
- 메인 채팅 화면 진입
- 인터넷 연결 불필요 (오프라인 모드)

### 테스트 데이터
```
입력 메시지들:
1. "안녕하세요"
2. "오늘 날씨가 어때요?"
3. "Python으로 Hello World를 출력하는 코드를 알려주세요"
4. "고양이에 대해 설명해주세요"
5. "감사합니다"
```

### 테스트 단계
1. 텍스트 입력 필드에 첫 번째 메시지 입력
2. 전송 버튼 터치 또는 엔터키 입력
3. 로딩 인디케이터 확인
4. AI 응답 수신 및 표시 확인
5. 2-5번 메시지로 동일 과정 반복
6. 대화 히스토리 스크롤 테스트
7. 각 응답의 품질 및 관련성 평가

### 예상 결과
- 각 입력에 대해 2초 이내 응답
- 맥락에 적절한 한국어 응답
- 대화 기록이 화면에 정확히 표시
- 스크롤 동작 원활
- 메모리 누수 없음

### 성공 기준
- 응답 시간 ≤ 2초 (95% 케이스)
- 응답 품질 점수 ≥ 7/10
- UI 반응성 유지
- 앱 크래시 없음

---

## TC-003: 이미지 촬영 및 분석

### 테스트 목적
카메라를 통한 이미지 촬영 및 AI 분석 기능의 정상 작동 검증

### 전제 조건
- 카메라 권한 허용 상태
- 충분한 조명 환경
- 촬영 대상 준비 (책, 음식, 동물 등)

### 테스트 단계
1. 멀티모달 입력 버튼 터치
2. 이미지 입력 모드 선택
3. 카메라 인터페이스 확인
4. 촬영 대상 프레임에 맞춤
5. 촬영 버튼 터치
6. 촬영된 이미지 미리보기 확인
7. "분석하기" 버튼 터치
8. 분석 진행률 모니터링
9. 분석 결과 확인

### 테스트 이미지 종류
- 책 표지 (텍스트 인식)
- 음식 사진 (객체 인식)
- 풍경 사진 (장면 분석)
- 동물 사진 (종 분류)
- 사람 얼굴 (얼굴 인식)

### 예상 결과
- 이미지 해상도: 최소 720p
- 분석 시간: 3초 이내
- 객체 인식 정확도 ≥ 85%
- 관련 설명 및 추가 정보 제공
- 분석 결과의 대화 맥락 통합

### 성공 기준
- 이미지 품질 적절히 유지
- 분석 정확도 기준 달성
- 자연스러운 설명 생성
- 처리 시간 요구사항 만족

---

## TC-004: 음성 입력 및 인식

### 테스트 목적
마이크를 통한 음성 입력 및 실시간 전사 기능의 정상 작동 검증

### 전제 조건
- 마이크 권한 허용 상태
- 조용한 환경 (배경 소음 < 40dB)
- 명확한 발음으로 테스트

### 테스트 음성 입력
```
1. "안녕하세요, 음성 인식 테스트입니다"
2. "오늘은 2024년 7월 21일입니다"
3. "인공지능에 대해 설명해주세요"
4. "사과와 바나나의 차이점을 알려주세요"
5. "감사합니다, 이상입니다"
```

### 테스트 단계
1. 음성 입력 모드 선택
2. 마이크 버튼 터치하여 녹음 시작
3. 실시간 음성 레벨 표시 확인
4. 첫 번째 테스트 문장 명확히 발화
5. 녹음 중지 버튼 터치
6. 음성 전사 결과 확인
7. AI 응답 생성 및 표시 확인
8. 2-5번 문장으로 반복 테스트
9. TTS 음성 응답 재생 테스트 (선택사항)

### 예상 결과
- 실시간 음성 레벨 시각화
- 전사 정확도 ≥ 93% (WER ≤ 7%)
- 전사 시간: 1초 이내
- 자연스러운 문장 부호 자동 추가
- 음성 응답 품질 우수

### 성공 기준
- Word Error Rate ≤ 7%
- 실시간 처리 지연 최소
- 명확한 음성 피드백
- 배경 소음 적절히 필터링

---

## TC-005: 비디오 업로드 및 분석

### 테스트 목적
비디오 파일 업로드 및 내용 분석 기능의 정상 작동 검증

### 전제 조건
- 갤러리 접근 권한 허용
- 테스트용 비디오 파일 준비 (10-30초)
- 충분한 저장 공간

### 테스트 비디오 종류
- 요리 과정 영상 (10초)
- 운동 동작 영상 (15초)
- 자연 풍경 영상 (20초)
- 애완동물 영상 (25초)
- 일상 활동 영상 (30초)

### 테스트 단계
1. 비디오 입력 모드 선택
2. "갤러리에서 선택" 버튼 터치
3. 테스트 비디오 파일 선택
4. 비디오 미리보기 재생 확인
5. "분석하기" 버튼 터치
6. 프레임 추출 진행률 확인
7. 분석 진행 상황 모니터링
8. 분석 결과 요약 확인
9. 시간 순서별 설명 검토

### 예상 결과
- 비디오 해상도: 최소 480p 지원
- 프레임 추출: 1 FPS
- 분석 시간: 비디오 길이 × 2초
- 시간 기반 내용 요약 제공
- 주요 객체 및 행동 인식

### 성공 기준
- 모든 테스트 비디오 정상 처리
- 메모리 사용량 안정 유지
- 정확한 내용 요약 생성
- 처리 시간 예측 정확도

---

## TC-006: 멀티모달 통합 입력

### 테스트 목적
텍스트, 이미지, 음성을 조합한 복합 입력의 정상 처리 검증

### 전제 조건
- 모든 입력 모달리티 사용 가능
- 충분한 시스템 리소스

### 테스트 시나리오
**시나리오 1: 텍스트 + 이미지**
1. "이 음식의 레시피를 알려주세요" (텍스트)
2. 음식 사진 첨부 (이미지)

**시나리오 2: 음성 + 이미지**
1. "이게 뭔지 설명해주세요" (음성)
2. 미지의 객체 사진 첨부 (이미지)

**시나리오 3: 텍스트 + 음성 + 이미지**
1. "운동 자세를 확인해주세요" (텍스트)
2. "정확한 폼인지 알려주세요" (음성)
3. 운동 자세 사진 첨부 (이미지)

### 테스트 단계
1. 멀티모달 입력 세션 시작
2. 첫 번째 입력 (텍스트/음성) 제공
3. 두 번째 입력 (이미지) 추가
4. 입력 간 관련성 매핑 확인
5. 통합 분석 진행
6. 포괄적인 응답 생성 확인
7. 컨텍스트 연결성 평가

### 예상 결과
- 입력 간 의미적 연결 정확히 파악
- 통합된 맥락에서 적절한 응답
- 각 모달리티 정보의 적절한 가중치 적용
- 응답의 완성도 및 유용성 향상

### 성공 기준
- 멀티모달 통합 정확도 ≥ 80%
- 응답 품질 단일 모달리티 대비 20% 향상
- 처리 시간 합리적 범위 유지
- 사용자 만족도 향상

---

## TC-007: 오프라인/온라인 모드 전환

### 테스트 목적
네트워크 상태 변화에 따른 모드 전환의 원활한 작동 검증

### 전제 조건
- 온라인 모델 API 접근 가능
- 네트워크 설정 변경 권한
- 진행 중인 대화 세션

### 테스트 단계
1. 오프라인 모드에서 대화 시작
2. 3-4회 메시지 교환으로 컨텍스트 구축
3. Wi-Fi 연결 활성화
4. 자동 네트워크 감지 확인
5. 온라인 모드 전환 옵션 표시 확인
6. "온라인 모드로 전환" 선택
7. 기존 대화 컨텍스트 유지 확인
8. 온라인 모델로 새 응답 생성
9. 응답 품질 비교 평가
10. 네트워크 연결 해제하여 오프라인 복귀 테스트

### 예상 결과
- 네트워크 상태 실시간 감지
- 모드 전환 시 컨텍스트 100% 보존
- 온라인 모드에서 응답 품질 향상
- 매끄러운 사용자 경험 유지
- 자동/수동 전환 옵션 제공

### 성공 기준
- 컨텍스트 손실율 0%
- 모드 전환 시간 ≤ 3초
- 온라인 응답 품질 10% 이상 향상
- 사용자 인터페이스 일관성 유지

---

## TC-008: 대화 히스토리 저장 및 검색

### 테스트 목적
대화 내역의 로컬 저장 및 검색 기능의 정상 작동 검증

### 전제 조건
- 여러 세션의 대화 기록 존재
- 검색 가능한 키워드 포함 대화
- 충분한 저장 공간

### 테스트 데이터
```
대화 세션들:
1. 요리 관련 대화 (파스타 레시피)
2. 여행 계획 대화 (제주도 여행)
3. 학습 관련 대화 (Python 프로그래밍)
4. 건강 관련 대화 (운동 루틴)
5. 엔터테인먼트 대화 (영화 추천)
```

### 테스트 단계
1. 메뉴에서 "대화 기록" 선택
2. 저장된 대화 세션 목록 확인
3. 검색 기능 테스트:
   - "파스타" 검색
   - "제주도" 검색
   - "Python" 검색
4. 검색 결과 정확성 확인
5. 특정 대화 세션 열기
6. 대화 내용 완전성 확인
7. 날짜/시간 정보 정확성 확인
8. 대화 삭제 기능 테스트
9. 즐겨찾기 기능 테스트

### 예상 결과
- 모든 대화 내역 정확히 저장
- 실시간 검색 결과 제공
- 검색 정확도 ≥ 95%
- 날짜/시간 메타데이터 정확
- 삭제/즐겨찾기 기능 정상 작동

### 성공 기준
- 데이터 무결성 100% 유지
- 검색 응답 시간 ≤ 500ms
- UI 반응성 유지
- 프라이버시 보호 수준 적절

---

## TC-009: 권한 관리 시스템

### 테스트 목적
앱 권한 요청 및 관리 시스템의 정상 작동 검증

### 전제 조건
- 앱 초기 설치 상태 또는 권한 초기화
- iOS 설정에서 권한 변경 가능

### 권한 테스트 목록
- 카메라 접근 권한
- 마이크 접근 권한
- 사진 라이브러리 접근 권한
- 음성 인식 권한

### 테스트 단계
1. 각 기능 첫 사용 시 권한 요청 확인
2. 권한 허용 선택 시 정상 기능 작동 확인
3. 권한 거부 선택 시 적절한 안내 메시지 확인
4. iOS 설정에서 권한 변경 후 앱 반응 확인
5. 권한 복구 시 기능 정상화 확인
6. 부분 권한 시나리오 테스트
7. 권한 상태 UI 표시 정확성 확인

### 예상 결과
- 명확하고 친화적인 권한 요청 메시지
- 권한 거부 시 대안 기능 제시
- 권한 변경 시 실시간 반영
- 설정 앱으로의 원활한 이동
- 권한 상태의 정확한 시각적 표시

### 성공 기준
- 권한 요청 승인율 ≥ 80%
- 오류 없는 권한 상태 추적
- 사용자 친화적 메시지 품질
- iOS 가이드라인 준수

---

## TC-010: 성능 및 안정성

### 테스트 목적
앱의 전반적인 성능 및 안정성 검증

### 전제 조건
- 다양한 디바이스 모델 (iPhone 12, 13, 14 등)
- 충분한 테스트 시간 (최소 2시간)
- 시스템 모니터링 도구 사용

### 테스트 항목

**메모리 사용량 테스트**
1. 앱 시작 시 초기 메모리 사용량 측정
2. 각 기능 사용 후 메모리 증가량 확인
3. 장시간 사용 시 메모리 누수 여부 확인
4. 백그라운드/포그라운드 전환 시 메모리 관리

**배터리 사용량 테스트**
1. 1시간 연속 사용 시 배터리 소모량 측정
2. 각 기능별 배터리 영향도 분석
3. 저전력 모드에서의 동작 확인
4. 백그라운드 배터리 사용량 최소화 확인

**CPU 사용률 테스트**
1. 모델 추론 시 CPU 사용률 모니터링
2. 멀티모달 처리 시 성능 임팩트 측정
3. UI 반응성 유지 여부 확인
4. 과열 방지 메커니즘 동작 확인

### 예상 결과
- 메모리 사용량: 최대 2GB 이내
- 배터리 소모: 시간당 15% 이내
- CPU 사용률: 평균 40% 이내
- UI 프레임률: 60fps 유지
- 앱 크래시율: <0.1%

### 성공 기준
- 모든 성능 지표가 목표 범위 내
- 2시간 연속 사용 시 안정성 유지
- 메모리 누수 없음
- 열 관리 적절히 동작

이상으로 정상 케이스 테스트 케이스 작성을 완료했습니다.